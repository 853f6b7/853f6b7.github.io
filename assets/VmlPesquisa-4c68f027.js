import{X as g,r as n,o as i,c as u,a as r,b as s,w as a,F as B,i as V,j as C,d as F,u as P,s as $,Y as k,f as v}from"./index-6f0f9c69.js";import{c as w}from"./controllerbase-3b2baa9b.js";const b={class:"pesquisa"},S=r("div",{class:"texto"},"Selecione uma empresa",-1),q={style:{"margin-top":"10px"}},N={class:"container"},T={key:0,class:"datas"},j={props:{changeFilterBusiness:{type:Function,default:()=>{}},changePeriodoControl:{type:Function,default:()=>{}},Pesquisar:{type:Function},background:{type:String,default:"#F08327"},showPeriodoControl:{type:Boolean},colorButton:{type:String,default:"#F2F2F2"},colorTextButton:{type:String,default:"#000"},disabledSearch:{type:Boolean,default:!1}},data:()=>({selected:[],filterBusiness:[],dtstartperiodo:new Date,dtfinishperiodo:new Date}),created(){if(this.$props.disabledSearch)return;const e=JSON.parse(localStorage.getItem("user")),{__API:l}=this;var o="";e.role=="Admin"?o=`${l}/Cliente/grupo/`+e.idGruposClientes:o=`${l}/Usuario/acessos/`+e.id,w.Get(o).then(d=>{this.filterBusiness=d.data,this.filterBusiness.unshift({})})},watch:{selected(e){e?this.$props.changeFilterBusiness(this.filterBusiness[e]):this.$props.changeFilterBusiness(!1)},dtstartperiodo(e){e&&this.$props.changePeriodoControl({start:e,end:this.dtfinishperiodo})},dtfinishperiodo(e){e&&this.$props.changePeriodoControl({start:this.dtstartperiodo,end:e})}}},L=Object.assign(j,{__name:"VmlPesquisa",setup(e){return g(l=>({"18ce5e4a":e.background})),(l,o)=>{const d=n("el-option"),f=n("el-select"),_=n("el-col-2"),p=n("el-date-picker"),m=n("el-col"),h=n("el-button"),y=n("el-row");return i(),u("div",b,[S,r("div",q,[s(y,null,{default:a(()=>[r("div",N,[s(_,null,{default:a(()=>[s(f,{modelValue:l.selected,"onUpdate:modelValue":o[0]||(o[0]=t=>l.selected=t),placeholder:"Todos",style:{width:"300px"},filterable:""},{default:a(()=>[(i(!0),u(B,null,V(l.filterBusiness,(t,c)=>(i(),C(d,{key:c,label:c==0?"Todos":`${t.cnpj||t.cnpjCliente} -  ${t.codigoCliente} ${t.nomeLocal!=""?t.nomeLocal:t.nomeCliente||t.nome}`,value:c},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(m,{span:30},{default:a(()=>[e.showPeriodoControl==!0?(i(),u("div",T,[s(p,{modelValue:l.dtstartperiodo,"onUpdate:modelValue":o[1]||(o[1]=t=>l.dtstartperiodo=t),type:"month",placeholder:"Mes inicial"},null,8,["modelValue"]),s(p,{style:{"margin-left":"5px"},modelValue:l.dtfinishperiodo,"onUpdate:modelValue":o[2]||(o[2]=t=>l.dtfinishperiodo=t),type:"month",placeholder:"Mes final"},null,8,["modelValue"])])):F("",!0)]),_:1}),s(m,{span:2,class:"botao-container"},{default:a(()=>[r("div",null,[s(h,{type:"primary",class:"botao",onClick:o[3]||(o[3]=t=>e.Pesquisar()),icon:P($),color:e.colorButton,style:k({color:e.colorTextButton})},{default:a(()=>[v("Pesquisa")]),_:1},8,["icon","color","style"])])]),_:1})])]),_:1})])])}}});export{L as _};
