import{r as c,o as u,c as m,a as t,b as a,w as s,d as h,e as f,_ as w,f as _,v as p,t as v,g as y}from"./index-e2c559bb.js";import{a as g}from"./axios-4a70c6fc.js";const C={class:"container"},V=t("div",{class:"left-container-logo"},[t("div",{class:"logomulti-login"},[t("img",{alt:"Vue logo",src:w})])],-1),k={class:"right-container-login"},b={class:"container-credentials"},L=t("h1",null,"Preencha para acessar o Portal Multilixo.",-1),N=t("h2",null,"Login",-1),B={class:"error-login"},S={data(){return{login:"",password:"",error:""}},methods:{Login(){const i=this,o={username:i.login,password:i.password};g.post(`${this.__API}/Usuario/token`,o).then(e=>{const l={headers:{Authorization:`Bearer ${e.data.token}`}};g.get(`${this.__API}/Usuario/`+e.data.id,l).then(n=>{const r=Object.assign(e.data,{idGruposClientes:n.data.idGruposClientes});localStorage.setItem("user",JSON.stringify(r)),this.$router.replace("/"),window.dispatchEvent(new CustomEvent("user",{detail:{storage:localStorage.getItem("user")}}))})}).catch(e=>{this.error=e.response.data.message})}}},I=Object.assign(S,{__name:"LoginView",setup(i){return(o,e)=>{const l=c("el-col"),n=c("el-row"),r=c("el-button");return u(),m("div",C,[V,t("div",k,[t("div",b,[L,N,a(n,null,{default:s(()=>[a(l,{span:24},{default:s(()=>[_(t("input",{type:"text",class:"input",required:"",placeholder:"Digite seu login","onUpdate:modelValue":e[0]||(e[0]=d=>o.login=d)},null,512),[[p,o.login]])]),_:1})]),_:1}),a(n,null,{default:s(()=>[a(l,{span:24},{default:s(()=>[_(t("input",{type:"password",required:"",class:"input",placeholder:"Digite sua senha","onUpdate:modelValue":e[1]||(e[1]=d=>o.password=d)},null,512),[[p,o.password]])]),_:1})]),_:1}),o.error?(u(),h(n,{key:0},{default:s(()=>[t("div",B,v(o.error),1)]),_:1})):f("",!0),a(n,null,{default:s(()=>[a(l,{span:24},{default:s(()=>[a(r,{type:"primary",class:"button buttonLogin",onClick:o.Login},{default:s(()=>[y("ENTRAR")]),_:1},8,["onClick"])]),_:1})]),_:1})])])])}}});export{I as default};
