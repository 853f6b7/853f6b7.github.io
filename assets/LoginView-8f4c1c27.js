import{_ as g,o as r,c,a as s,r as p,b as e,t as I,d as h,w as a,e as f,v,n as w,f as m,p as L,g as V,h as $}from"./index-e3390442.js";import{a as b}from"./axios-4a70c6fc.js";const y={},C={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","data-v-ea893728":""},k=s("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),S=[k];function z(t,o){return r(),c("svg",C,S)}const x=g(y,[["render",z]]),B={},E={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024","xml:space":"preserve","data-v-ea893728":""},N=s("path",{d:"M928.99 755.83 574.6 203.25c-12.89-20.16-36.76-32.58-62.6-32.58s-49.71 12.43-62.6 32.58L95.01 755.83c-12.91 20.12-12.9 44.91.01 65.03 12.92 20.12 36.78 32.51 62.59 32.49h708.78c25.82.01 49.68-12.37 62.59-32.49 12.91-20.12 12.92-44.91.01-65.03zM554.67 768h-85.33v-85.33h85.33V768zm0-426.67v298.66h-85.33V341.32l85.33.01z",fill:"currentColor"},null,-1),P=[N];function M(t,o){return r(),c("svg",E,P)}const D=g(B,[["render",M]]);const d=t=>(L("data-v-04ff0856"),t=t(),V(),t),U={class:"container"},q=d(()=>s("div",{class:"left-container-logo"},[s("div",{class:"logomulti-login"},[s("img",{alt:"Vue logo",src:$})])],-1)),O={class:"right-container-login"},T={key:0,class:"container-msg"},X={class:"msg-icon"},j={class:"msgs"},A={class:"msg-titulo"},G=d(()=>s("div",null,"Verifique se o e-mail e a senha estÃ£o corretos e tente novamente.",-1)),R={class:"container-credentials"},J={style:{"margin-top":"50px"}},F=d(()=>s("h1",null,"Preencha para acessar o Portal Multilixo.",-1)),H=d(()=>s("h2",null,"Login",-1)),K={key:0,class:"help-message"},Q={key:0,class:"help-message"},W={data(){return{login:"",password:"",error:"",submitted:!1}},methods:{Login(){const t=this,o={username:t.login,password:t.password};t.submitted=!0,!(t.login==""||t.password=="")&&b.post(`${this.__API}/Usuario/token`,o).then(n=>{const i={headers:{Authorization:`Bearer ${n.data.token}`}};b.get(`${this.__API}/Usuario/`+n.data.id,i).then(l=>{const _=Object.assign(n.data,{idGruposClientes:l.data.idGruposClientes});localStorage.setItem("user",JSON.stringify(_)),this.$router.replace("/"),window.dispatchEvent(new CustomEvent("user",{detail:{storage:localStorage.getItem("user")}}))})}).catch(n=>{this.error=n.response.data.message})}}},Y=Object.assign(W,{__name:"LoginView",setup(t){return(o,n)=>{const i=p("el-col"),l=p("el-row"),_=p("el-button");return r(),c("div",U,[q,s("div",O,[o.error?(r(),c("div",T,[s("div",X,[e(D,{class:"IconExclamacao"})]),s("div",j,[s("div",A,I(o.error),1),G])])):h("",!0),s("div",R,[s("div",J,[F,H,e(l,null,{default:a(()=>[e(i,{span:24},{default:a(()=>[f(s("input",{type:"text",class:w(["input",{"red-input":this.submitted&&this.login==""}]),required:"",placeholder:"Digite seu login","onUpdate:modelValue":n[0]||(n[0]=u=>o.login=u)},null,2),[[v,o.login]])]),_:1})]),_:1}),e(l,null,{default:a(()=>[e(i,{span:24},{default:a(()=>[this.submitted&&this.login==""?(r(),c("div",K,[e(x,{class:"IconX"}),m(" Por favor, insira o e-mail. ")])):h("",!0)]),_:1})]),_:1}),e(l,null,{default:a(()=>[e(i,{span:24},{default:a(()=>[f(s("input",{type:"password",required:"",class:w(["input",{"red-input":this.submitted&&this.password==""}]),placeholder:"Digite sua senha","onUpdate:modelValue":n[1]||(n[1]=u=>o.password=u)},null,2),[[v,o.password]])]),_:1})]),_:1}),e(l,null,{default:a(()=>[e(i,{span:24},{default:a(()=>[this.submitted&&this.password==""?(r(),c("div",Q,[e(x,{class:"IconX"}),m(" Por favor, insira a senha. ")])):h("",!0)]),_:1})]),_:1}),e(l,null,{default:a(()=>[e(i,{span:24},{default:a(()=>[e(_,{type:"primary",class:"button buttonLogin",onClick:o.Login},{default:a(()=>[m("ENTRAR")]),_:1},8,["onClick"])]),_:1})]),_:1})])])])])}}}),es=g(Y,[["__scopeId","data-v-04ff0856"]]);export{es as default};
