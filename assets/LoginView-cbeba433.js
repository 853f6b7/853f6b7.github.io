import{_ as h,o as c,c as u,a as s,r as p,b as o,t as C,d as g,w as n,E as k,e as _,f as v,v as f,n as w,g as b,p as $,h as I,i as V}from"./index-cc67c904.js";import{a as L}from"./axios-4a70c6fc.js";const S={},E={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","data-v-ea893728":""},z=s("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),B=[z];function N(t,e){return c(),u("svg",E,B)}const y=h(S,[["render",N]]),P={},M={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024","xml:space":"preserve","data-v-ea893728":""},A=s("path",{d:"M928.99 755.83 574.6 203.25c-12.89-20.16-36.76-32.58-62.6-32.58s-49.71 12.43-62.6 32.58L95.01 755.83c-12.91 20.12-12.9 44.91.01 65.03 12.92 20.12 36.78 32.51 62.59 32.49h708.78c25.82.01 49.68-12.37 62.59-32.49 12.91-20.12 12.92-44.91.01-65.03zM554.67 768h-85.33v-85.33h85.33V768zm0-426.67v298.66h-85.33V341.32l85.33.01z",fill:"currentColor"},null,-1),D=[A];function U(t,e){return c(),u("svg",M,D)}const q=h(P,[["render",U]]);const m=t=>($("data-v-82149908"),t=t(),I(),t),K={class:"container"},O=m(()=>s("div",{class:"left-container-logo"},[s("div",{class:"logomulti-login"},[s("img",{alt:"Vue logo",src:V,width:"170"})])],-1)),T={class:"right-container-login"},X={key:0,class:"container-msg"},j={class:"msg-icon"},G={class:"msgs"},R={class:"msg-titulo"},J=m(()=>s("div",{class:"msg-details"},"Verifique se o e-mail e a senha estÃ£o corretos e tente novamente.",-1)),x={class:"container-credentials"},F={style:{width:"95%"}},H=m(()=>s("h1",{style:{width:"95%"}},"Preencha para acessar o Portal Multilixo.",-1)),Q={key:0,class:"help-message"},W={key:0,class:"help-message"},Y={data(){return{login:"",password:"",error:"",submitted:!1}},methods:{Login(){const t=this,e={username:t.login,password:t.password};if(t.submitted=!0,t.login==""||t.password=="")return;const a=k.service({lock:!0,text:"Carregando...",background:"rgba(0, 0, 0, 0.7)"});L.post(`${this.__API}/Usuario/token`,e).then(l=>{const r={headers:{Authorization:`Bearer ${l.data.token}`}};L.get(`${this.__API}/Usuario/`+l.data.id,r).then(d=>{a.close();const i=Object.assign(l.data,{idGruposClientes:d.data.idGruposClientes});sessionStorage.setItem("user",JSON.stringify(i)),this.$router.replace("/"),window.dispatchEvent(new CustomEvent("user",{detail:{storage:sessionStorage.getItem("user")}}))})}).catch(l=>{a.close(),this.error=l.response.data.message})},publicAccess(){this.$router.replace("/public_documentos")}}},Z=Object.assign(Y,{__name:"LoginView",setup(t){return(e,a)=>{const l=p("el-button"),r=p("el-col"),d=p("el-row");return c(),u("div",K,[O,s("div",T,[e.error?(c(),u("div",X,[s("div",j,[o(q,{class:"IconExclamacao"})]),s("div",G,[s("div",R,C(e.error),1),J])])):g("",!0),s("div",x,[s("div",F,[H,s("h2",null,[o(l,{link:"",onClick:e.publicAccess},{default:n(()=>[_("Login")]),_:1},8,["onClick"])]),o(d,null,{default:n(()=>[o(r,{span:24},{default:n(()=>[v(s("input",{type:"text",class:w(["input",{"red-input":e.submitted&&e.login==""}]),required:"",placeholder:"Digite seu login","onUpdate:modelValue":a[0]||(a[0]=i=>e.login=i),onKeyup:a[1]||(a[1]=b((...i)=>e.Login&&e.Login(...i),["enter"]))},null,34),[[f,e.login]])]),_:1})]),_:1}),o(d,null,{default:n(()=>[o(r,{span:24},{default:n(()=>[e.submitted&&e.login==""?(c(),u("div",Q,[o(y,{class:"IconX"}),_(" Por favor, insira o e-mail. ")])):g("",!0)]),_:1})]),_:1}),o(d,null,{default:n(()=>[o(r,{span:24},{default:n(()=>[v(s("input",{type:"password",required:"",class:w(["input",{"red-input":e.submitted&&e.password==""}]),onKeyup:a[2]||(a[2]=b((...i)=>e.Login&&e.Login(...i),["enter"])),placeholder:"Digite sua senha","onUpdate:modelValue":a[3]||(a[3]=i=>e.password=i)},null,34),[[f,e.password]])]),_:1})]),_:1}),o(d,null,{default:n(()=>[o(r,{span:24},{default:n(()=>[e.submitted&&e.password==""?(c(),u("div",W,[o(y,{class:"IconX"}),_(" Por favor, insira a senha. ")])):g("",!0)]),_:1})]),_:1}),o(d,null,{default:n(()=>[o(r,{span:24},{default:n(()=>[o(l,{type:"primary",class:"button buttonLogin",onClick:e.Login},{default:n(()=>[_("ENTRAR")]),_:1},8,["onClick"])]),_:1})]),_:1})])])])])}}}),oe=h(Z,[["__scopeId","data-v-82149908"]]);export{oe as default};
