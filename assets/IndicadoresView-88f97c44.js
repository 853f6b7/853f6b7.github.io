import{a as y,r as B,B as C,G as $,C as _}from"./GraficoIndicadores-604725dc.js";import{K as I,_ as l,r as V,o,m as d,c,A as p,a,b as i,p as g,j as f,d as n,q as P,E as w,w as S,F as b,i as z}from"./index-63b118e2.js";import{T as F,E as O}from"./EmptyState-27e7d8ba.js";import{_ as M}from"./VmlPesquisa-9d13e1b9.js";import{B as L}from"./Breadcumbs-090cbf03.js";/* empty css                                                    */y.register(...B);const k=I({name:"Home",props:{chartData:Object},components:{BarChart:C}});function A(s,e,t,r,u,h){const m=V("BarChart");return o(),d(m,{chartData:s.chartData},null,8,["chartData"])}const G=l(k,[["render",A]]);const T={},H={class:"container"},K=p('<div class="cinza redondo" data-v-67d88f74><div class="titulo" data-v-67d88f74>Total reciclado - período</div><div class="conteudo-container" data-v-67d88f74><div class="conteudo" data-v-67d88f74><div class="kgs item" data-v-67d88f74>X.000 Kg</div><div class="separador item" data-v-67d88f74>-</div><div class="periodo item" data-v-67d88f74>Jul a Set/23</div></div></div></div>',1),E=[K];function N(s,e,t,r,u,h){return o(),c("div",H,E)}const j=l(T,[["render",N],["__scopeId","data-v-67d88f74"]]),Y={},q={xmlns:"http://www.w3.org/2000/svg",height:"1em",fill:"currentColor",viewBox:"0 0 576 512"},J=a("path",{d:"M49.7 32c-10.5 0-19.8 6.9-22.9 16.9L.9 133c-.6 2-.9 4.1-.9 6.1C0 150.7 9.3 160 20.9 160h94L140.5 32H49.7zM272 160V32H173.1L147.5 160H272zm32 0H428.5L402.9 32H304V160zm157.1 0h94c11.5 0 20.9-9.3 20.9-20.9c0-2.1-.3-4.1-.9-6.1L549.2 48.9C546.1 38.9 536.8 32 526.3 32H435.5l25.6 128zM32 192l4 32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H44L64 448c0 17.7 14.3 32 32 32s32-14.3 32-32H448c0 17.7 14.3 32 32 32s32-14.3 32-32l20-160h12c17.7 0 32-14.3 32-32s-14.3-32-32-32h-4l4-32H32z"},null,-1),X=[J];function R(s,e){return o(),c("svg",q,X)}const Q=l(Y,[["render",R]]);const v=s=>(g("data-v-d1aa3f8f"),s=s(),f(),s),U={class:"container"},W={class:"cinza redondo cem"},Z={class:"conteudo"},x=p('<div class="item" data-v-d1aa3f8f><div class="titulo" data-v-d1aa3f8f>Total caçambas</div></div><div class="item" data-v-d1aa3f8f><div class="titulo" data-v-d1aa3f8f>Volume</div></div><div class="item" data-v-d1aa3f8f><div class="titulo" data-v-d1aa3f8f>Peso</div></div>',3),ee={class:"item"},se={class:"cacamba-container"},ae={class:"cacamba-container-icone"},te=v(()=>a("div",null,"5",-1)),oe=v(()=>a("div",{class:"item"},"X.000 m3",-1)),ie=v(()=>a("div",{class:"item"},"X.000.000 KGs",-1)),re={},ne=Object.assign(re,{__name:"TotalCacambas",setup(s){return(e,t)=>(o(),c("div",U,[a("div",W,[a("div",Z,[x,a("div",ee,[a("div",se,[a("div",ae,[i(Q)]),te])]),oe,ie])])]))}}),de=l(ne,[["__scopeId","data-v-d1aa3f8f"]]);const D=s=>(g("data-v-20336433"),s=s(),f(),s),ce={class:"indicadorescontainer"},le={class:"item pizzaContainer"},_e={class:"item",style:{display:"grid","grid-template-columns":"40% 60%"}},ue={class:"item cinza redondo"},he=D(()=>a("div",{class:"titulo-total-reciclado"},"Total reciclado - ano",-1)),ve={class:"item"},me={style:{display:"flex"}},pe=D(()=>a("div",{class:"titulo-vertical"},"Estimativa de benefícios ambientais",-1)),ge={key:0,class:"msgVazioArea"},fe={data:()=>({user:JSON.parse(sessionStorage.getItem("user")),dataDe:new Date().getDate(),dataAte:null,user:JSON.parse(sessionStorage.getItem("user")),urlBusiness:null,selected:0,selectedBusiness:null,filterBusiness:[],tipoVisualizacao:1,chartData:{labels:["Papel (Kg)","Plástico (Kg)","Vidro (Kg)","Ferro (Kg)","Orgânico (Kg)"],datasets:[{data:[0,0,0,0,0],backgroundColor:["#006AA7","#D1250D","#015B00","#D2AB0E","#9A6233"]}]},valores:{mensagemPapel:"",mensagemPlastico:"",mensagemVidro:"",mensagemMetal:"",mensagemOrganico:""},retornoVazio:!1,retornoVazioMensagem:""}),created(){const{__API:s}=this;this.urlBusiness=`${s}/Cliente/grupo/`+this.user.idGruposClientes,this.urlIndicadores=`${s}/Vrls/indicadores`;var e=new Date;this.dataDe=new Date(e.getFullYear(),e.getMonth(),e.getDate()),this.dataAte=new Date(e.getFullYear(),e.getMonth(),e.getDate())},mounted(){this.filtrar()},watch:{selected(s){if(s)return this.selectedBusiness=this.filterBusiness[s];this.selectedBusiness=null}},methods:{filtrar(){const s=this;if(!this.dataDe||!this.dataAte)return;s.setLoading(!0);const e={dataInicial:this.getFirstDayOfMonth(this.dataDe),dataFinal:this.getLastDayOfMonth(this.dataAte),idGruposClientes:this.user.idGruposClientes};this.selectedBusiness&&(e.idClientes=this.selectedBusiness.idClientes,e.idLocais=this.selectedBusiness.idLocais,e.idGruposClientes=this.selectedBusiness.idGruposClientes),P.Post(this.urlIndicadores,e).then(t=>{s.setLoading(!1),t.error||(this.retornoVazio=!1,this.retornoVazioMensagem="",this.valores=t.data[0],this.chartData.datasets[0].data=[this.valores.pesoPapel,this.valores.pesoPlastico,this.valores.pesoVidro,this.valores.pesoMetal,this.valores.pesoOrganico])},t=>{s.setLoading(!1),this.retornoVazio=!0,this.retornoVazioMensagem=t.response.data.message})},changePeriodoControl({start:s,end:e}){this.dataDe=s,this.dataAte=e},changeFilterBusiness(s){s?this.selectedBusiness=s:this.selectedBusiness=null},setLoading(s){const e=w.service({lock:!0,text:"Carregando...",background:"rgba(0, 0, 0, 0.7)"});s||e.close()},getLastDayOfMonth(s){const e=new Date(s),t=e.getFullYear(),r=e.getMonth(),u=new Date(t,r+1,0).getDate();return new Date(t,r,u).toISOString()},getFirstDayOfMonth(s){const e=new Date(s),t=e.getFullYear(),r=e.getMonth();return new Date(t,r,1).toISOString()}}},De=Object.assign(fe,{__name:"IndicadoresBody",setup(s){return(e,t)=>(o(),c("div",null,[i(F,{title:"Indicadores"}),i(M,{changeFilterBusiness:e.changeFilterBusiness,Pesquisar:e.filtrar,idGrupoClientes:e.idgruposclientes,background:"#CBD619",showPeriodoControl:!0,changePeriodoControl:e.changePeriodoControl,colorButton:"#F08327",colorTextButton:"#FFFFFF"},null,8,["changeFilterBusiness","Pesquisar","idGrupoClientes","changePeriodoControl"]),a("div",ce,[a("div",le,[i($,{chartData:e.chartData},null,8,["chartData"])]),a("div",_e,[i(j),i(de)]),a("div",ue,[he,i(G,{"chart-data":e.chartData},null,8,["chart-data"])]),a("div",ve,[a("div",me,[pe,e.valores.pesoPapel>0?(o(),d(_,{key:0,cor:"azul",descricao:e.valores.mensagemPapel,valor:e.valores.pesoPapel,icone:"papel"},null,8,["descricao","valor"])):n("",!0),e.valores.pesoMetal>0?(o(),d(_,{key:1,cor:"amarelo",descricao:e.valores.mensagemMetal,valor:e.valores.pesoMetal,icone:"metal"},null,8,["descricao","valor"])):n("",!0),e.valores.pesoPlastico>0?(o(),d(_,{key:2,cor:"vermelho",descricao:e.valores.mensagemPlastico,valor:e.valores.pesoPlastico,icone:"plastico"},null,8,["descricao","valor"])):n("",!0),e.valores.pesoVidro>0?(o(),d(_,{key:3,cor:"verde",descricao:e.valores.mensagemVidro,valor:e.valores.pesoVidro,icone:"vidro"},null,8,["descricao","valor"])):n("",!0),e.valores.pesoOrganico>0?(o(),d(_,{key:4,cor:"marrom",descricao:`${e.valores.mensagemOrganico} KG`,valor:e.valores.pesoOrganico,icone:"organico"},null,8,["descricao","valor"])):n("",!0)])])]),e.retornoVazio?(o(),c("div",ge,[i(O,{message:e.retornoVazioMensagem},null,8,["message"])])):n("",!0)]))}}),ye=l(De,[["__scopeId","data-v-20336433"]]);const Be={__name:"IndicadoresView",setup(s){return(e,t)=>(o(),c(b,null,[i(L,null,{titulo:S(()=>[z("Indicadores")]),_:1}),i(ye)],64))}},Se=l(Be,[["__scopeId","data-v-8c916146"]]);export{Se as default};
