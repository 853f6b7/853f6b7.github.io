import{_ as w,o as _,c as m,A as E,B as J,r as f,a as e,b as s,w as t,d as C,t as u,F as S,l as V,m as b,q as k,f as P,p as L,j as N,x as d,u as I,C as F,i as r,Q as G,E as U,s as O}from"./index-2ec7f04e.js";import{E as z}from"./jspdf.es.min-7c1a4827.js";import{B as q}from"./Breadcumbs-dfb69e25.js";const A={},M={id:"Icone-informacoes",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},Q=E('<circle id="Elipse" cx="10" cy="10" r="10" fill="#cbd619"></circle><path id="Caminho" d="M-2878.314,1997.285v8.859a1.371,1.371,0,0,0,.346.812,1.466,1.466,0,0,0,.871.236h9.58a1.214,1.214,0,0,0,.791-.236,1.323,1.323,0,0,0,.249-.812v-6.4a1.39,1.39,0,0,0-.309-.726,1.444,1.444,0,0,0-.731-.323h-4.881a1.091,1.091,0,0,1-.6-.121.573.573,0,0,1-.142-.469v-.815a1.226,1.226,0,0,0-.24-.767,1.252,1.252,0,0,0-.769-.25h-3.417a.935.935,0,0,0-.548.31A1.509,1.509,0,0,0-2878.314,1997.285Z" transform="translate(2882.393 -1991.73)" fill="none" stroke="#fff" stroke-width="1"></path><path id="Caminho-2" data-name="Caminho" d="M-2871.379,1998.227l5.537-.02a1.127,1.127,0,0,1,.7.4,1.6,1.6,0,0,1,.128.893v1.1" transform="translate(2880.924 -1992.588)" fill="none" stroke="#fff" stroke-width="1"></path><g id="usuario" transform="translate(7.266 8.139)"><path id="Caminho-3" data-name="Caminho" d="M437.9,581.823a1.641,1.641,0,1,1-1.641,1.641,1.641,1.641,0,0,1,1.641-1.641h0Z" transform="translate(-435.171 -581.823)" fill="#fff"></path><path id="Caminho-4" data-name="Caminho" d="M433.686,603.807a3.574,3.574,0,0,1-2.731-1.272,2.079,2.079,0,0,1,1.836-1.115.454.454,0,0,1,.132.021,2.325,2.325,0,0,0,1.525,0,.456.456,0,0,1,.132-.021,2.079,2.079,0,0,1,1.836,1.115,3.573,3.573,0,0,1-2.731,1.272Z" transform="translate(-430.955 -597.393)" fill="#fff"></path></g>',4),R=[Q];function D(a,o){return _(),m("svg",M,R)}const j=w(A,[["render",D]]);const p=a=>(L("data-v-c3260632"),a=a(),N(),a),Z=p(()=>e("div",{class:"subtitulo"},[e("div",{style:{width:"3px",height:"26px",background:"#444444 0% 0% no-repeat padding-box",opacity:"1"}}),e("div",{class:"cadastrosubtitulo"},"Cadastro")],-1)),H={class:"informacoes-matriz"},T=p(()=>e("div",{class:"matrix-texto"},"Informações do usuário",-1)),Y=p(()=>e("div",null,null,-1)),K={class:"matrizinfocontainer desktop"},W=p(()=>e("div",{class:"grid-content titulo"},"Usuário:",-1)),X=p(()=>e("div",{class:"grid-content titulo"},"Email:",-1)),x=p(()=>e("div",{class:"grid-content titulo"},"Senha:",-1)),ee={key:0,class:"grid-content titulo"},te=p(()=>e("div",{class:"grid-content titulo"},null,-1)),se=p(()=>e("div",{class:"grid-content titulo"},null,-1)),oe={class:"grid-content conteudo ultimo"},ie={class:"grid-content conteudo ultimo"},ne={class:"grid-content conteudo ultimo"},ae={key:0,class:"grid-content conteudo ultimo"},de={class:"senha"},le=p(()=>e("div",{style:{"text-align":"left",font:"normal normal bold 16px/19px Raleway","letter-spacing":"0px",color:"#444444",opacity:"1","margin-top":"30px","margin-bottom":"30px"}}," Alterar senha",-1)),ce=p(()=>e("div",{style:{"text-align":"left",font:"normal normal normal 14px/18px Raleway","letter-spacing":"0px",color:"#444444",opacity:"1"}}," Nova senha",-1)),ue=p(()=>e("div",{class:"botao laranja"},[e("div",null,"Alterar")],-1)),re=p(()=>e("div",{class:"box-acoes"},[e("div",{class:"botao laranja"},[e("div",null,"Salvar")]),e("div",{class:"botao verde"},[e("div",null,"Cancelar")])],-1)),_e={class:"matrizinfocontainer mobile"},pe=p(()=>e("div",{class:"grid-content titulo"},"Usuário:",-1)),fe={class:"grid-content conteudo"},he=p(()=>e("div",{class:"grid-content titulo"},"Email:",-1)),me={class:"grid-content conteudo"},ve=p(()=>e("div",{class:"grid-content titulo"},"Senha:",-1)),ge={class:"grid-content conteudo"},$e={data:()=>({usuario:JSON.parse(sessionStorage.getItem("user")).username,email:JSON.parse(sessionStorage.getItem("user")).email,password:"*************",listaGrupos:[],grupoSelecionado:0,supervisor:!1}),mounted(){const{__API:a}=this;let o=JSON.parse(sessionStorage.getItem("user"));this.supervisor=o.flagSup,k.Get(`${a}/Usuario/grupos`).then(c=>{this.listaGrupos=c.data,this.listaGrupos.unshift({idGruposClientes:0,grupoCliente:"Nenhum"}),this.grupoSelecionado=o.idGruposClientes}).catch(c=>{console.error(c)})},watch:{grupoSelecionado(){console.log("grupoSelecionado"),console.log(this.grupoSelecionado);let a=JSON.parse(sessionStorage.getItem("user"));const{__API:o}=this;this.grupoSelecionado!=a.idGruposClientes&&(this.grupoSelecionado!=0?(a.idGruposClientes=this.grupoSelecionado,sessionStorage.setItem("user",JSON.stringify(a)),P({message:"Grupo alterado com sucesso!",type:"success"})):k.Get(`${o}/Usuario/${a.id}`).then(c=>{console.log(c),console.log(c.data),a.idGruposClientes=c.data.idGruposClientes,sessionStorage.setItem("user",JSON.stringify(a))}))}}},Ce=Object.assign($e,{__name:"MatrizInfo",props:{modoEditar:{type:Boolean}},setup(a){return J(0),(o,c)=>{const i=f("el-col"),n=f("el-row"),v=f("el-option"),$=f("el-select"),g=f("el-input");return _(),m(S,null,[Z,e("div",H,[e("div",null,[s(j)]),T,Y]),e("div",K,[s(n,null,{default:t(()=>[s(i,{span:4},{default:t(()=>[W]),_:1}),s(i,{span:4},{default:t(()=>[X]),_:1}),s(i,{span:4},{default:t(()=>[x]),_:1}),s(i,{span:4},{default:t(()=>[o.supervisor?(_(),m("div",ee,"Selecionar grupo:")):C("",!0)]),_:1})]),_:1}),s(n,null,{default:t(()=>[s(i,{span:4},{default:t(()=>[te]),_:1}),s(i,{span:4},{default:t(()=>[se]),_:1})]),_:1}),s(n,null,{default:t(()=>[s(i,{span:4},{default:t(()=>[e("div",oe,u(o.usuario),1)]),_:1}),s(i,{span:4},{default:t(()=>[e("div",ie,u(o.email),1)]),_:1}),s(i,{span:4},{default:t(()=>[e("div",ne,u(o.password),1)]),_:1}),s(i,{span:4},{default:t(()=>[o.supervisor?(_(),m("div",ae,[s($,{modelValue:o.grupoSelecionado,"onUpdate:modelValue":c[0]||(c[0]=h=>o.grupoSelecionado=h),class:"m-2",placeholder:"Selecionar grupo",size:"large"},{default:t(()=>[(_(!0),m(S,null,V(o.listaGrupos,h=>(_(),b(v,{key:h.idGruposClientes,label:h.grupoCliente,value:h.idGruposClientes},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])):C("",!0)]),_:1})]),_:1}),e("div",de,[s(n,null,{default:t(()=>[s(i,{span:24},{default:t(()=>[le]),_:1})]),_:1}),s(n,null,{default:t(()=>[s(i,{span:24},{default:t(()=>[ce]),_:1})]),_:1}),s(n,null,{default:t(()=>[s(i,{span:4},{default:t(()=>[s(g,{class:"w-50 m-2",style:{width:"164px"},placeholder:"Digite a nova senha"})]),_:1}),s(i,{span:4},{default:t(()=>[ue]),_:1}),s(i,{span:4}),s(i,{span:4}),s(i,{span:4},{default:t(()=>[re]),_:1})]),_:1})])]),e("div",_e,[pe,e("div",fe,u(o.usuario),1),he,e("div",me,u(o.email),1),ve,e("div",ge,u(o.password),1)])],64)}}}),be=w(Ce,[["__scopeId","data-v-c3260632"]]);const l=a=>(L("data-v-1a231593"),a=a(),N(),a),Se={class:"filial-info"},ye={class:"titulo-accordion desktop"},we=l(()=>e("div",{class:"titulo"},"Codigo:",-1)),Ie=l(()=>e("div",{class:"titulo"},"Cod. Local",-1)),ke=l(()=>e("div",{class:"titulo"},"Razão Social:",-1)),Fe=l(()=>e("div",{class:"titulo"},"Nome Fantasia:",-1)),Le=l(()=>e("div",{class:"titulo"},"CNPJ:",-1)),Ne=l(()=>e("div",{class:"titulo"},"Usuario:",-1)),Ve={class:"conteudo conteudo-titulo"},Ge={class:"conteudo conteudo-titulo"},je={class:"conteudo conteudo-titulo"},Be={class:"conteudo conteudo-titulo"},Ee={class:"conteudo conteudo-titulo"},Je={class:"conteudo conteudo-titulo"},Pe={class:"titulo-accordion mobile"},Ue=l(()=>e("div",{class:"titulo"},"Codigo:",-1)),Oe={class:"conteudo conteudo-titulo"},ze=l(()=>e("div",{class:"titulo"},"Cod. Local",-1)),qe={class:"conteudo conteudo-titulo"},Ae={class:"desktop",style:{"margin-top":"10px"}},Me=l(()=>e("div",{class:"titulo"},"CEP:",-1)),Qe=l(()=>e("div",{class:"titulo"},"Endereço:",-1)),Re=l(()=>e("div",{class:"titulo"},"Número:",-1)),De=l(()=>e("div",{class:"titulo"},"Bairro:",-1)),Ze=l(()=>e("div",{class:"titulo"},"Complemento:",-1)),He=l(()=>e("div",{class:"titulo"},"Estado:",-1)),Te=l(()=>e("div",{class:"titulo"},"Cidade:",-1)),Ye={class:"conteudo"},Ke={class:"conteudo"},We={class:"conteudo"},Xe={class:"conteudo"},xe={class:"conteudo"},et={class:"conteudo"},tt={class:"conteudo"},st=l(()=>e("div",{class:"titulo"},"Vendedor",-1)),ot=l(()=>e("div",{class:"titulo"},"Assistente",-1)),it={class:"conteudo"},nt={class:"conteudo"},at={class:"acoes"},dt={class:"mobile"},lt=l(()=>e("div",{class:"titulo"},"Razão Social:",-1)),ct={class:"conteudo"},ut=l(()=>e("div",{class:"titulo"},"Nome Fantasia:",-1)),rt={class:"conteudo"},_t=l(()=>e("div",{class:"titulo"},"CNPJ:",-1)),pt={class:"conteudo"},ft=l(()=>e("div",{class:"titulo"},"Usuario:",-1)),ht={class:"conteudo"},mt=l(()=>e("div",{class:"titulo"},"CEP:",-1)),vt={class:"conteudo"},gt=l(()=>e("div",{class:"titulo"},"Endereço:",-1)),$t={class:"conteudo"},Ct=l(()=>e("div",{class:"titulo"},"Número:",-1)),bt={class:"conteudo"},St=l(()=>e("div",{class:"titulo"},"Bairro:",-1)),yt={class:"conteudo"},wt=l(()=>e("div",{class:"titulo"},"Complemento:",-1)),It={class:"conteudo"},kt=l(()=>e("div",{class:"titulo"},"Estado:",-1)),Ft={class:"conteudo"},Lt=l(()=>e("div",{class:"titulo"},"Cidade:",-1)),Nt={class:"conteudo"},Vt=l(()=>e("div",{class:"titulo"},"Vendedor:",-1)),Gt={class:"conteudo"},jt=l(()=>e("div",{class:"titulo"},"Assistente:",-1)),Bt={class:"conteudo"},Et={class:"acoes"},Jt={class:"qr-code",id:"qr_code"},Pt={class:"dialog-footer"},Ut={class:"container-bt-imprimir"},Ot={components:{QrcodeVue:G},props:{data:{required:!0,type:Object}},data:()=>({dialogVisible:!1,qrcodeLink:""}),methods:{gerarQrCode(){const a=window.location.origin+"/public_indicadores/",o=new Date,c=("0"+parseInt(o.getMonth()+1)).slice(-2),i=`${o.getFullYear()}${c}`,n={idGruposClientes:this.$props.data.idGruposClientes,idClientes:this.$props.data.idClientes,idLocais:this.$props.data.idLocais,periodo:i},v=btoa(new URLSearchParams(n).toString()),$=a+v;this.qrcodeLink=$,this.dialogVisible=!0},ImprimirQrCode(){var a=new z("p","pt","a4"),o=document.getElementById("qr_code").children[0],c=o.toDataURL("image/jpeg");a.addImage(c,220,100),a.output("dataurlnewwindow")}}},zt=Object.assign(Ot,{__name:"FilialInfo",setup(a){return(o,c)=>{const i=f("el-col"),n=f("el-row"),v=f("el-icon"),$=f("el-collapse-item"),g=f("el-collapse"),h=f("el-button"),B=f("el-dialog");return _(),m(S,null,[e("div",Se,[s(g,{accordion:""},{default:t(()=>[s($,{name:"1"},{title:t(()=>[e("div",ye,[s(n,null,{default:t(()=>[s(i,{span:2},{default:t(()=>[we]),_:1}),a.data.codigoLocal?(_(),b(i,{key:0,span:2},{default:t(()=>[Ie]),_:1})):C("",!0),s(i,{span:6},{default:t(()=>[ke]),_:1}),s(i,{span:6},{default:t(()=>[Fe]),_:1}),s(i,{span:3},{default:t(()=>[Le]),_:1}),s(i,{span:4},{default:t(()=>[Ne]),_:1})]),_:1}),s(n,null,{default:t(()=>[s(i,{span:2},{default:t(()=>[e("div",Ve,[d(o.$slots,"codigoCliente",{},void 0,!0)])]),_:3}),a.data.codigoLocal?(_(),b(i,{key:0,span:2},{default:t(()=>[e("div",Ge,[d(o.$slots,"codigoLocal",{},void 0,!0)])]),_:3})):C("",!0),s(i,{span:6},{default:t(()=>[e("div",je,[d(o.$slots,"nomeCliente",{},void 0,!0)])]),_:3}),s(i,{span:6},{default:t(()=>[e("div",Be,[d(o.$slots,"nomeFantasiaCliente",{},void 0,!0)])]),_:3}),s(i,{span:3},{default:t(()=>[e("div",Ee,[d(o.$slots,"cnpjCliente",{},void 0,!0)])]),_:3}),s(i,{span:4},{default:t(()=>[e("div",Je,[d(o.$slots,"nome",{},void 0,!0)])]),_:3})]),_:3})]),e("div",Pe,[s(n,null,{default:t(()=>[s(i,{span:12},{default:t(()=>[Ue]),_:1}),s(i,{span:12},{default:t(()=>[e("div",Oe,[d(o.$slots,"codigoCliente",{},void 0,!0)])]),_:3})]),_:3}),s(n,null,{default:t(()=>[a.data.codigoLocal?(_(),b(i,{key:0,span:12},{default:t(()=>[ze]),_:1})):C("",!0),a.data.codigoLocal?(_(),b(i,{key:1,span:12},{default:t(()=>[e("div",qe,[d(o.$slots,"codigoLocal",{},void 0,!0)])]),_:3})):C("",!0)]),_:3})])]),default:t(()=>[e("div",Ae,[s(n,null,{default:t(()=>[s(i,{span:2},{default:t(()=>[Me]),_:1}),s(i,{span:4},{default:t(()=>[Qe]),_:1}),s(i,{span:2},{default:t(()=>[Re]),_:1}),s(i,{span:3},{default:t(()=>[De]),_:1}),s(i,{span:4},{default:t(()=>[Ze]),_:1}),s(i,{span:2},{default:t(()=>[He]),_:1}),s(i,{span:4},{default:t(()=>[Te]),_:1})]),_:1}),s(n,null,{default:t(()=>[s(i,{span:2},{default:t(()=>[e("div",Ye,[d(o.$slots,"cep",{},void 0,!0)])]),_:3}),s(i,{span:4},{default:t(()=>[e("div",Ke,[d(o.$slots,"endereco",{},void 0,!0)])]),_:3}),s(i,{span:2},{default:t(()=>[e("div",We,[d(o.$slots,"numero",{},void 0,!0)])]),_:3}),s(i,{span:3},{default:t(()=>[e("div",Xe,[d(o.$slots,"bairro",{},void 0,!0)])]),_:3}),s(i,{span:4},{default:t(()=>[e("div",xe,[d(o.$slots,"complemento",{},void 0,!0)])]),_:3}),s(i,{span:2},{default:t(()=>[e("div",et,[d(o.$slots,"uf",{},void 0,!0)])]),_:3}),s(i,{span:2},{default:t(()=>[e("div",tt,[d(o.$slots,"cidade",{},void 0,!0)])]),_:3})]),_:3}),s(n,null,{default:t(()=>[s(i,{span:4},{default:t(()=>[st]),_:1}),s(i,{span:4},{default:t(()=>[ot]),_:1})]),_:1}),s(n,null,{default:t(()=>[s(i,{span:4},{default:t(()=>[e("div",it,[d(o.$slots,"vendedor",{},void 0,!0)])]),_:3}),s(i,{span:4},{default:t(()=>[e("div",nt,[d(o.$slots,"assistente",{},void 0,!0)])]),_:3})]),_:3}),s(n,null,{default:t(()=>[s(i,{span:6},{default:t(()=>[e("div",at,[s(v,null,{default:t(()=>[s(I(F),{style:{"margin-top":"10px"}})]),_:1}),e("div",{style:{"margin-left":"10px"},onClick:c[0]||(c[0]=(...y)=>o.gerarQrCode&&o.gerarQrCode(...y))},"Gerar indicador")])]),_:1})]),_:1})]),e("div",dt,[lt,e("div",ct,[d(o.$slots,"nomeCliente",{},void 0,!0)]),ut,e("div",rt,[d(o.$slots,"nomeFantasiaCliente",{},void 0,!0)]),_t,e("div",pt,[d(o.$slots,"cnpjCliente",{},void 0,!0)]),ft,e("div",ht,[d(o.$slots,"nome",{},void 0,!0)]),mt,e("div",vt,[d(o.$slots,"cep",{},void 0,!0)]),gt,e("div",$t,[d(o.$slots,"endereco",{},void 0,!0)]),Ct,e("div",bt,[d(o.$slots,"numero",{},void 0,!0)]),St,e("div",yt,[d(o.$slots,"bairro",{},void 0,!0)]),wt,e("div",It,[d(o.$slots,"complemento",{},void 0,!0)]),kt,e("div",Ft,[d(o.$slots,"uf",{},void 0,!0)]),Lt,e("div",Nt,[d(o.$slots,"cidade",{},void 0,!0)]),Vt,e("div",Gt,[d(o.$slots,"vendedor",{},void 0,!0)]),jt,e("div",Bt,[d(o.$slots,"assistente",{},void 0,!0)]),e("div",Et,[s(v,null,{default:t(()=>[s(I(F),{style:{"margin-top":"10px"}})]),_:1}),e("div",{style:{"margin-left":"10px"},onClick:c[1]||(c[1]=(...y)=>o.gerarQrCode&&o.gerarQrCode(...y))},"Gerar indicador")])])]),_:3})]),_:3})]),s(B,{modelValue:o.dialogVisible,"onUpdate:modelValue":c[2]||(c[2]=y=>o.dialogVisible=y),class:"qr-code-dialog"},{footer:t(()=>[e("span",Pt,[e("div",Ut,[s(h,{class:"btn-imprimir",icon:I(F),onClick:o.ImprimirQrCode},{default:t(()=>[r("Imprimir ")]),_:1},8,["icon","onClick"])])])]),default:t(()=>[e("div",Jt,[s(G,{value:o.qrcodeLink,size:150,level:"H"},null,8,["value"])])]),_:1},8,["modelValue"])],64)}}}),qt=w(zt,[["__scopeId","data-v-1a231593"]]);const At=a=>(L("data-v-6a12bc64"),a=a(),N(),a),Mt={class:"informacoes-filiais"},Qt=At(()=>e("div",{class:"filiais-texto"},"Informações das filiais",-1)),Rt={class:"filiais"},Dt={class:"search-text"},Zt={data:()=>({user:JSON.parse(sessionStorage.getItem("user")),admin:!1,filterCNPJ:null,listaFiliais:[],listaFiliaisBkp:[]}),methods:{setLoading(a){const o=U.service({lock:!0,text:"Carregando...",background:"rgba(0, 0, 0, 0.7)"});a||o.close()}},watch:{filterCNPJ(a){this.listaFiliais=this.listaFiliaisBkp,this.listaFiliais=this.listaFiliais.filter(o=>o.cnpj.indexOf(a)>-1)}},created(){const a=this,{__API:o}=this,{idGruposClientes:c,role:i,id:n,flagAdm:v,flagSup:$}=this.user;this.setLoading(!0),v||$?k.Get(`${o}/Cliente/grupo/`+c).then(g=>{a.setLoading(!1),this.listaFiliais=g.data,this.listaFiliaisBkp=g.data,this.admin=!0}):k.Get(`${o}/Usuario/acessos/${n}`).then(g=>{a.setLoading(!1),this.listaFiliais=this.listaFiliaisBkp=g.data.map(h=>(h.cnpj||(h.cnpj=h.cnpjCliente),h))})}},Ht=Object.assign(Zt,{__name:"FiliaisInfo",setup(a){return(o,c)=>{const i=f("el-input");return _(),m(S,null,[e("div",Mt,[e("div",null,[s(j)]),Qt]),e("div",Rt,[e("div",Dt,[s(i,{modelValue:o.filterCNPJ,"onUpdate:modelValue":c[0]||(c[0]=n=>o.filterCNPJ=n),class:"w-50 m-2",style:{width:"300px","font-size":"16px"},placeholder:"Pesquise pelo CNPJ.","suffix-icon":I(O)},null,8,["modelValue","suffix-icon"])]),(_(!0),m(S,null,V(o.listaFiliais,n=>(_(),b(qt,{data:n},{codigoCliente:t(()=>[r(u(n.codigoCliente),1)]),codigoLocal:t(()=>[r(u(n.codigoLocal),1)]),nomeCliente:t(()=>[r(u(n.nome),1)]),nomeFantasiaCliente:t(()=>[r(u(n.tipo=="cliente"?`${n.codigoLocal} ${n.nomeFantasia}`:`${n.nomeFantasiaLocal}`),1)]),cnpjCliente:t(()=>[r(u(n.cnpj),1)]),nome:t(()=>[r(u(n.tipo=="cliente"?n.nome:o.user.username),1)]),cep:t(()=>[r(u(n.cep),1)]),endereco:t(()=>[r(u(n.endereco),1)]),numero:t(()=>[r(u(n.numero),1)]),bairro:t(()=>[r(u(n.bairro),1)]),complemento:t(()=>[r(u(n.complemento),1)]),uf:t(()=>[r(u(n.uf),1)]),cidade:t(()=>[r(u(n.cidade),1)]),vendedor:t(()=>[r(u(n.vendedor),1)]),assistente:t(()=>[r(u(n.assistente),1)]),_:2},1032,["data"]))),256))])],64)}}}),Tt=w(Ht,[["__scopeId","data-v-6a12bc64"]]);const Yt={__name:"CadastroView",setup(a){return(o,c)=>(_(),m(S,null,[s(q,null,{titulo:t(()=>[r("Cadastro")]),_:1}),s(be),s(Tt)],64))}},xt=w(Yt,[["__scopeId","data-v-4859b294"]]);export{xt as default};
