import{$,r as n,o as a,c,a as r,b as l,w as i,F as y,k as b,l as B,d as V,u as C,s as F,a0 as k,h as w,m as P}from"./index-badc0466.js";/* empty css                                                    */const S={class:"pesquisa"},v=r("div",{class:"texto"},"Selecione uma empresa",-1),q={style:{"margin-top":"10px"}},L={class:"container"},N={key:0,class:"datas"},T={props:{changeFilterBusiness:{type:Function,default:()=>{}},changePeriodoControl:{type:Function,default:()=>{}},Pesquisar:{type:Function},background:{type:String,default:"#F08327"},showPeriodoControl:{type:Boolean},colorButton:{type:String,default:"#F2F2F2"},colorTextButton:{type:String,default:"#000"},disabledSearch:{type:Boolean,default:!1}},data:()=>({selected:[],filterBusiness:[],dtstartperiodo:new Date,dtfinishperiodo:new Date}),created(){if(!this.$props.disabledSearch)if(this.$route&&this.$route.meta&&this.$route.meta.requireAuth){const t=JSON.parse(sessionStorage.getItem("user")),{__API:o}=this;var e="";t.role=="Admin"?e=`${o}/Cliente/grupo/`+t.idGruposClientes:e=`${o}/Usuario/acessos/`+t.id,P.Get(e).then(d=>{this.filterBusiness=d.data,this.filterBusiness.unshift({})})}else console.log("no auth")},methods:{getSelectLabel(e,t){return t==0?"Todos":e.tipo.trim()=="local"?`${e.codigoCliente} - ${e.codigoLocal} - ${e.nomeLocal} - ${e.endereco}, ${e.numero??""} - ${e.bairro}`:e.tipo.trim()=="cliente"?`${e.cnpj} - ${e.codigoCliente} - ${e.nome}`:""}},watch:{selected(e){e?this.$props.changeFilterBusiness(this.filterBusiness[e]):this.$props.changeFilterBusiness(!1)},dtstartperiodo(e){e&&this.$props.changePeriodoControl({start:e,end:this.dtfinishperiodo})},dtfinishperiodo(e){e&&this.$props.changePeriodoControl({start:this.dtstartperiodo,end:e})}}},j=Object.assign(T,{__name:"VmlPesquisa",setup(e){return $(t=>({b5ed668e:e.background})),(t,o)=>{const d=n("el-option"),f=n("el-select"),h=n("el-col-2"),p=n("el-date-picker"),m=n("el-col"),_=n("el-button"),g=n("el-row");return a(),c("div",S,[v,r("div",q,[l(g,null,{default:i(()=>[r("div",L,[l(h,null,{default:i(()=>[l(f,{modelValue:t.selected,"onUpdate:modelValue":o[0]||(o[0]=s=>t.selected=s),placeholder:"Todos",style:{width:"300px"},filterable:""},{default:i(()=>[(a(!0),c(y,null,b(t.filterBusiness,(s,u)=>(a(),B(d,{key:u,label:t.getSelectLabel(s,u),value:u},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(m,{span:30},{default:i(()=>[e.showPeriodoControl==!0?(a(),c("div",N,[l(p,{modelValue:t.dtstartperiodo,"onUpdate:modelValue":o[1]||(o[1]=s=>t.dtstartperiodo=s),type:"month",placeholder:"Mes inicial"},null,8,["modelValue"]),l(p,{style:{"margin-left":"5px"},modelValue:t.dtfinishperiodo,"onUpdate:modelValue":o[2]||(o[2]=s=>t.dtfinishperiodo=s),type:"month",placeholder:"Mes final"},null,8,["modelValue"])])):V("",!0)]),_:1}),l(m,{span:2,class:"botao-container"},{default:i(()=>[r("div",null,[l(_,{type:"primary",class:"botao",onClick:o[3]||(o[3]=s=>e.Pesquisar(1)),icon:C(F),color:e.colorButton,style:k({color:e.colorTextButton})},{default:i(()=>[w("Pesquisa")]),_:1},8,["icon","color","style"])])]),_:1})])]),_:1})])])}}});export{j as _};
