import{T as z,E as k}from"./EmptyState-22cf1238.js";import{r as d,o as a,c as l,b as i,a as o,w as p,u as P,s as F,f as M,F as f,i as K,j as m,d as s,t as c,_ as I}from"./index-6e3f8029.js";import{c as B}from"./controllerbase-3b2baa9b.js";import{C as v,G as C}from"./GraficoIndicadores-30c5d5c2.js";import"./axios-4a70c6fc.js";const G={class:"pesquisa"},A=o("div",{class:"texto"},"Selecione uma empresa",-1),D={style:{"margin-top":"10px"}},w={class:"container"},L={class:"datas"},R={class:"modoexibicao"},T=o("div",null," Visualizar como: ",-1),$={key:0,class:"exibicaocard"},N={key:1,class:"exibicaografico"},O={class:"assuntosarea"},U={key:0,class:"assunto"},E={key:1,class:"assunto"},S={key:2,class:"assunto"},q={key:3,class:"assunto"},W={key:4,class:"assunto"},j={key:5,class:"assunto"},J={key:6,class:"assunto"},Y={class:"graficoarea"},H={key:2,class:"msgVazioArea"},Q={data:()=>({defaultURL:"https://apiportalmultilixo.azurewebsites.net",params:{},dtstartperiodo:new Date,dtfinishperiodo:new Date,urlBusiness:null,selected:0,selectedBusiness:null,filterBusiness:[],tipoVisualizacao:1,tiposVisualizacao:[{value:1,label:"Card"},{value:2,label:"Pizza"}],chartData:{labels:["Plástico (Kg)","Vidro (Kg)","Lixo (Kg)","Mix (Kg)","Alumínio (Kg)","Ferro (Kg)","Papel (Kg)"],datasets:[{data:[0,0,0,0,0,0,0],backgroundColor:["#FF0000","#58A786","#000000","#C0DF16","#999999","#FFA500","#00BFFF"]}]},valores:{mensagemPlastico:"Reciclar 0 KG de plástico pode salvar 0kWh de energia, 0 barris de petróleo e reduzir as emissões de gases de efeito estufa",mensagemVidro:"Reciclar 0 KG de vidro pode economizar 0 KG de matérias-primas, incluindo areia, soda e calcário, além de economizar energia.",mensagemLixo:"Total de lixo: 0",mensagemMix:"Média de Arvores que deixamos de cortar: 0",mensagemAluminio:"Reciclar 0 KG de alumínio pode economizar 0KG de bauxita, 0  kWh de energia e 0 toneladas de dióxido de carbono (CO2)",mensagemMetal:"Reciclar 0 KG de ferro pode economizar cerca de 0 minério de ferro, 0 de carvão e 0kg de calcário",mensagemPapel:"Reciclar 0 KG de papel pode salver cerca de 0 árvores, 0 galões de água e 0 kWh de energia."},retornoVazio:!1,retornoVazioMensagem:""}),created(){const r=atob(this.$route.params.params),e=JSON.parse('{"'+decodeURI(r).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}');this.params=e,this.filtrar()},methods:{filtrar(){const{__API:r,dtstartperiodo:e,dtfinishperiodo:t}=this;e.setDate(1);let h=new Date(t.getFullYear(),t.getMonth()+1,0);const _={dataInicial:e,dataFinal:h,idGruposClientes:this.params.idGruposClientes,idLocais:this.params.idLocais};this.urlIndicadores=`${r}/Vrls/indicadores`,B.Post(this.urlIndicadores,_).then(u=>{this.retornoVazio=!1,this.retornoVazioMensagem="",this.valores=u.data[0],this.chartData.datasets[0].data=[this.valores.pesoPlastico,this.valores.pesoVidro,this.valores.pesoLixo,this.valores.pesoMix,this.valores.pesoAluminio,this.valores.pesoMetal,this.valores.pesoPapel]},u=>{this.retornoVazio=!0,this.retornoVazioMensagem=u.response.data.message})},changePeriodoControl({start:r,end:e}){this.dataDe=r,this.dataAte=e},changeFilterBusiness(r){r?this.selectedBusiness=r:this.selectedBusiness=null}}},X=Object.assign(Q,{__name:"IndicadoresBodyPublic",setup(r){return(e,t)=>{const h=d("el-select"),_=d("el-col-2"),u=d("el-date-picker"),g=d("el-col"),V=d("el-button"),y=d("el-row"),b=d("el-option");return a(),l(f,null,[i(z,{title:"Indicadores - Acesso público"}),o("div",G,[A,o("div",D,[i(y,null,{default:p(()=>[o("div",w,[i(_,null,{default:p(()=>[i(h,{placeholder:"Todos",style:{width:"300px"},disabled:""})]),_:1}),i(g,{span:30},{default:p(()=>[o("div",L,[i(u,{modelValue:e.dtstartperiodo,"onUpdate:modelValue":t[0]||(t[0]=n=>e.dtstartperiodo=n),type:"month",placeholder:"Mes inicial"},null,8,["modelValue"]),i(u,{style:{"margin-left":"5px"},modelValue:e.dtfinishperiodo,"onUpdate:modelValue":t[1]||(t[1]=n=>e.dtfinishperiodo=n),type:"month",placeholder:"Mes final"},null,8,["modelValue"])])]),_:1}),i(g,{span:2,class:"botao-container"},{default:p(()=>[o("div",null,[i(V,{icon:P(F),class:"botao",onClick:t[2]||(t[2]=n=>e.filtrar()),color:"#F2F2F2"},{default:p(()=>[M("Pesquisa ")]),_:1},8,["icon"])])]),_:1})])]),_:1})])]),o("div",R,[T,i(h,{modelValue:e.tipoVisualizacao,"onUpdate:modelValue":t[3]||(t[3]=n=>e.tipoVisualizacao=n),class:"select",size:"large",placeholder:"Todos",style:{width:"150px"}},{default:p(()=>[(a(!0),l(f,null,K(e.tiposVisualizacao,n=>(a(),m(b,{key:n.value,label:n.label,value:n.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e.tipoVisualizacao==1&&!e.retornoVazio?(a(),l("div",$,[e.valores.pesoPapel>0?(a(),m(v,{key:0,cor:"azul",descricao:e.valores.mensagemPapel,icone:"papel"},null,8,["descricao"])):s("",!0),e.valores.pesoPlastico>0?(a(),m(v,{key:1,cor:"vermelho",descricao:e.valores.mensagemPlastico,icone:"plastico"},null,8,["descricao"])):s("",!0),e.valores.pesoVidro>0?(a(),m(v,{key:2,cor:"verde",descricao:e.valores.mensagemVidro,icone:"vidro"},null,8,["descricao"])):s("",!0),e.valores.pesoMetal>0?(a(),m(v,{key:3,cor:"amarelo",descricao:e.valores.mensagemMetal,icone:"metal"},null,8,["descricao"])):s("",!0),e.valores.pesoOrganico>0?(a(),m(v,{key:4,cor:"marrom",descricao:`${e.valores.mensagemOrganico} KG`,icone:"organico"},null,8,["descricao"])):s("",!0)])):s("",!0),e.tipoVisualizacao==2&&!e.retornoVazio?(a(),l("div",N,[o("div",O,[e.valores.pesoPlastico>0?(a(),l("div",U,[o("p",null,c(e.valores.mensagemPlastico),1)])):s("",!0),e.valores.pesoVidro>0?(a(),l("div",E,[o("p",null,c(e.valores.mensagemVidro),1)])):s("",!0),e.valores.pesoLixo>0?(a(),l("div",S,[o("p",null,c(e.valores.mensagemLixo+" KG"),1)])):s("",!0),e.valores.pesoMix>0?(a(),l("div",q,[o("p",null,c(e.valores.mensagemMix),1)])):s("",!0),e.valores.pesoAluminio>0?(a(),l("div",W,[o("p",null,c(e.valores.mensagemAluminio),1)])):s("",!0),e.valores.pesoMetal>0?(a(),l("div",j,[o("p",null,c(e.valores.mensagemMetal),1)])):s("",!0),e.valores.pesoPapel>0?(a(),l("div",J,[o("p",null,c(e.valores.mensagemPapel),1)])):s("",!0)]),o("div",Y,[i(C,{chartData:e.chartData},null,8,["chartData"])])])):s("",!0),e.retornoVazio?(a(),l("div",H,[i(k)])):s("",!0)],64)}}});const Z={class:"main"},x={__name:"IndicadoresPublic",setup(r){return(e,t)=>(a(),l("div",Z,[i(X)]))}},ie=I(x,[["__scopeId","data-v-16a7d746"]]);export{ie as default};
