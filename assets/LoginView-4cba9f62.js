import{r as d,o as u,c as g,a as e,b as a,w as s,d as m,e as h,_ as w,f as c,v as p,t as f,g as v}from"./index-e069fba1.js";import{a as y}from"./axios-4a70c6fc.js";const V={class:"container"},b=e("div",{class:"left-container-logo"},[e("div",{class:"logomulti-login"},[e("img",{alt:"Vue logo",src:w})])],-1),k={class:"right-container-login"},C={class:"container-credentials"},L=e("h1",null,"Preencha para acessar o Portal Multilixo.",-1),N=e("h2",null,"Login",-1),B={class:"error-login"},D={data(){return{login:"",password:"",error:""}},methods:{Login(){const l=this,t={username:l.login,password:l.password};y.post("https://apiportalmultilixo.azurewebsites.net/Usuario/token",t).then(o=>{localStorage.setItem("user",JSON.stringify(o.data)),this.$router.replace("/"),window.dispatchEvent(new CustomEvent("user",{detail:{storage:localStorage.getItem("user")}}))}).catch(o=>{this.error=o.response.data.message})}}},x=Object.assign(D,{__name:"LoginView",setup(l){return(t,o)=>{const r=d("el-col"),n=d("el-row"),_=d("el-button");return u(),g("div",V,[b,e("div",k,[e("div",C,[L,N,a(n,null,{default:s(()=>[a(r,{span:24},{default:s(()=>[c(e("input",{type:"text",class:"input",required:"",placeholder:"Digite seu login","onUpdate:modelValue":o[0]||(o[0]=i=>t.login=i)},null,512),[[p,t.login]])]),_:1})]),_:1}),a(n,null,{default:s(()=>[a(r,{span:24},{default:s(()=>[c(e("input",{type:"password",required:"",class:"input",placeholder:"Digite sua senha","onUpdate:modelValue":o[1]||(o[1]=i=>t.password=i)},null,512),[[p,t.password]])]),_:1})]),_:1}),t.error?(u(),m(n,{key:0},{default:s(()=>[e("div",B,f(t.error),1)]),_:1})):h("",!0),a(n,null,{default:s(()=>[a(r,{span:24},{default:s(()=>[a(_,{type:"primary",class:"button buttonLogin",onClick:t.Login},{default:s(()=>[v("ENTRAR")]),_:1},8,["onClick"])]),_:1})]),_:1})])])])}}});export{x as default};
